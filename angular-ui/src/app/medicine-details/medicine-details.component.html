<!-- Outer wrapper: centers everything horizontally -->
<div class="flex justify-center w-full p-4">
  <!-- Inner container: restrict width and align items -->
  <div class="flex flex-col sm:flex-row gap-8 max-w-4xl w-full items-center">

    <!-- Product Image -->
    <div class="w-full sm:w-1/2 flex justify-center">
      <img
        [src]="'data:image/jpeg;base64,' + medicine.image"
        alt="{{ medicine.name }}"
        class="w-80 h-auto object-cover rounded-md shadow-lg"
      />
    </div>

    <!-- Product Details -->
    <div class="w-full sm:w-1/2">
      <h1 class="text-3xl font-bold mb-2 text-center sm:text-left">
        <span *ngIf="!editMode">{{ medicine.name }}</span>
        <input *ngIf="editMode" [(ngModel)]="medicine.name"
               class="text-3xl font-bold mb-2 w-full border p-2" />
      </h1>

      <p class="text-gray-600 mb-4 text-center sm:text-left">
        <span *ngIf="!editMode">{{ medicine.description }}</span>
        <textarea *ngIf="editMode" [(ngModel)]="medicine.description"
                  class="w-full border p-2" rows="4"></textarea>
      </p>

      <div class="space-y-2 text-gray-700 mb-4">
        <p>
          <span class="font-medium">Expiry:</span>
          <span *ngIf="!editMode"
                [ngClass]="isExpired() ? 'text-red-600 font-semibold' : 'text-green-600'">
            {{ medicine.expiryDate | date }}
          </span>
          <input *ngIf="editMode" [(ngModel)]="medicine.expiryDate"
                 type="date" class="w-full border p-2" />
        </p>

        <p>
          <span class="font-medium">Stock:</span>
          <span *ngIf="!editMode">{{ medicine.stockQuantity }}</span>
          <input *ngIf="editMode" [(ngModel)]="medicine.stockQuantity"
                 class="w-full border p-2" type="number" />
        </p>

        <p>
          <span class="font-medium">Manufacturer:</span>
          <span *ngIf="!editMode">{{ medicine.manufacturer || 'N/A' }}</span>
          <input *ngIf="editMode" [(ngModel)]="medicine.manufacturer"
                 class="w-full border p-2" />
        </p>

        <p>
          <span class="font-medium">Type:</span>
          <span *ngIf="!editMode">{{ medicine.type || 'N/A' }}</span>
          <input *ngIf="editMode" [(ngModel)]="medicine.type"
                 class="w-full border p-2" />
        </p>
      </div>

      <p class="text-green-500 font-bold text-lg mb-4 text-center sm:text-left">
        {{ medicine.price | currency:'KES':'symbol':'1.2-2' }}
      </p>

      <!-- Edit/Save Button (only for Admins) -->
      <div class="flex gap-2 justify-center sm:justify-start">
        <button *ngIf="isAdmin && !editMode"
                class="bg-yellow-500 text-white px-4 py-2 rounded-md hover:bg-yellow-600"
                (click)="toggleEditMode()">
          Edit
        </button>
        <button *ngIf="isAdmin && editMode"
                class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600"
                (click)="saveChanges()">
          Save Changes
        </button>
      </div>

    </div>
  </div>
</div>
